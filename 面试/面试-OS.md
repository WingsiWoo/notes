# 面试-OS

## 进程、线程与协程

1. 进程是并发执行的程序在执行过程中分配和管理资源的基本单位，是竞争计算机系统资源的基本单位
2. 线程是进程的一个执行单元，是进程内调度的实体，是比进程更小的独立运行的基本单位，是程序执行的基本单位，也被称为轻量级进程
3. 协程是一种比线程更加轻量级的存在，一个线程可以拥有多个协程。其执行过程类似于不带返回值的函数调用



### 进程与线程的区别

|          |                             进程                             |                             线程                             |
| :------: | :----------------------------------------------------------: | :----------------------------------------------------------: |
| 地址空间 |                 不同进程之间是独立的地址空间                 |             同一进程的不同线程共享进程的地址空间             |
|   资源   |      进程之间的资源是独立的，能很好的进行资源管理和保护      |         线程共享本进程的资源，不利于资源的管理和保护         |
|  健壮性  | 更加健壮，一个进程崩溃后，在保护模式下不会对其他进程产生影响 |                  一个线程崩溃，整个进程死掉                  |
| 执行过程 | 每个独立的进程有一个程序运行的入口、顺序执行序列和程序入口，执行开销大 | 不能独立运行，必须依存在应用程序中，由应用程序提供多个线程执行控制，执行开销小 |
|   开销   |                    创建、撤销、切换开销大                    |                创建、撤销、切换开销小，速度快                |



### 线程与协程的区别

|          |                      线程                      |                             协程                             |
| :------: | :--------------------------------------------: | :----------------------------------------------------------: |
| 占用资源 |            初始单位为1MB,固定不可变            |                初始一般为 2KB，可随需要而增大                |
| 调度所属 |                     OS内核                     |                          程序/用户                           |
| 切换开销 |                       大                       |                              小                              |
| 性能问题 | 资源占用太高，频繁创建销毁会带来严重的性能问题 |              资源占用小,不会带来严重的性能问题               |
| 数据同步 |     需要用锁等机制确保数据的一致性和可见性     | 同一时间其实只有一个协程拥有运行权，相当于单线程。不需要锁机制保障，只需要判断状态 |
| 适用场景 |                    大量计算                    |                           大量并发                           |



### 进程通信方式



### 进程状态



### 进程调度策略



### 线程同步方式



## 虚拟内存



## IO多路复用